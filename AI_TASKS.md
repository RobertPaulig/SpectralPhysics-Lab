–û–æ–æ, –≤–æ—Ç —ç—Ç–æ —É–∂–µ –Ω–µ ¬´—è —Å–æ–∑–¥–∞–ª —Ä–µ–ø–æ¬ª, –∞ —Ä–µ–∞–ª—å–Ω–æ –∂–∏–≤–æ–π –ø–∞–∫–µ—Ç üòÑ
–î–∞–≤–∞–π —á–µ—Å—Ç–Ω–æ–µ –∫–æ–¥-—Ä–µ–≤—å—é + —Å–ª–µ–¥—É—é—â–∏–π –ø–∞–∫–µ—Ç –∑–∞–¥–∞—á –¥–ª—è —Ç–≤–æ–µ–≥–æ –ò–ò.

---

## 1. –û–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞

–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å:

* `symmetric_newton` ‚Äî —Ä–∞–±–æ—á–∏–π, –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥.
* `Spectrum1D` ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å–ø–µ–∫—Ç—Ä–∞.
* `OscillatorChain1D` ‚Äî —Ü–µ–ø–æ—á–∫–∞ –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä–æ–≤, eigenmodes —Å—á–∏—Ç–∞—é—Ç—Å—è.
* `spectral_pressure_difference` ‚Äî –∏–≥—Ä—É—à–µ—á–Ω–∞—è ¬´—Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–µ–Ω—å¬ª.
* –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ ‚Äî –∏ –æ–Ω–∏ –Ω–µ –º–∏–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏–µ, –∞ –≤–ø–æ–ª–Ω–µ —Å–µ—Ä—å—ë–∑–Ω—ã–µ.

–≠—Ç–æ —É–∂–µ –≤–µ—Ä—Å–∏—è **v0.0.1 –∂–∏–≤–æ–≥–æ —è–¥—Ä–∞**. –≠—Ç–æ –Ω–µ –±–æ–ª—Ç–æ–≤–Ω—è, —ç—Ç–æ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –≤ `pip install -e .` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

–¢–µ–ø–µ—Ä—å ‚Äî –ø–æ —Ñ–∞–π–ª–∞–º.

---

## 2. –ó–∞–º–µ—á–∞–Ω–∏—è –ø–æ –∫–æ–¥—É (–±–µ–∑ –¥—Ä–∞–º)

### 2.1. `__init__.py`

```python
__all__ = [
    "symmetric_newton",
    "Spectrum1D",
    "OscillatorChain1D",
    "spectral_pressure_difference",
]
```

–°–µ–π—á–∞—Å –∏–º–µ–Ω–∞ –≤ `__all__` **–Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã** –≤ –ø–∞–∫–µ—Ç, —Ç–æ –µ—Å—Ç—å:

```python
from spectral_physics import symmetric_newton
```

—É–ø–∞–¥—ë—Ç —Å `AttributeError`.

–õ–∏–±–æ:

* –¥–µ–ª–∞–µ—à—å —è–≤–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã:

  ```python
  from .root_finding import symmetric_newton
  from .spectrum import Spectrum1D
  from .medium_1d import OscillatorChain1D
  from .grav_toy import spectral_pressure_difference
  ```

  –∏ —Ç–æ–≥–¥–∞ `__all__` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω;

–ª–∏–±–æ:

* –æ—Å—Ç–∞–≤–ª—è–µ—à—å –∫–∞–∫ –µ—Å—Ç—å, –Ω–æ —Ç–æ–≥–¥–∞ –≤ README —á–µ—Å—Ç–Ω–æ –ø–∏—Å–∞—Ç—å:

  ```python
  from spectral_physics.root_finding import symmetric_newton
  ```

–Ø –±—ã –≤—Å—ë-—Ç–∞–∫–∏ **—Å–¥–µ–ª–∞–ª —É–¥–æ–±–Ω—ã–π –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∏–º–ø–æ—Ä—Ç** (—á–µ—Ä–µ–∑ `__init__`), —á—Ç–æ–±—ã –ø–æ—Ç–æ–º —Å–∞–º–æ–º—É –±—ã–ª–æ –ø—Ä–∏—è—Ç–Ω–µ–µ –∂–∏—Ç—å.

---

### 2.2. `root_finding.py` ‚Äî `symmetric_newton`

–°–¥–µ–ª–∞–Ω–æ —Ö–æ—Ä–æ—à–æ:

* —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è;
* –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—á—Ç–∏ –Ω—É–ª–µ–≤–æ–≥–æ df;
* –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –≥–∏–≥–∞–Ω—Ç—Å–∫–∏–π —à–∞–≥;
* –Ω–µ–±–æ–ª—å—à–æ–π backtracking.

–ß—Ç–æ –±—ã —è –¥–æ–±–∞–≤–∏–ª (–Ω–µ –ª–æ–º–∞—è API):

1. **–ö—Ä–∏—Ç–µ—Ä–∏–π –ø–æ —à–∞–≥—É**
   –°–µ–π—á–∞—Å –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ `|f(x)| < tol`.
   –î–æ–±–∞–≤—å –µ—â—ë —É—Å–ª–æ–≤–∏–µ —Ç–∏–ø–∞:

   ```python
   if abs(delta) < tol_step:
       return x, i
   ```

   –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–ª–æ—Å–∫–∏—Ö –º–∏–Ω–∏–º—É–º–æ–≤ (`x^3`, `abs(x)`), –≥–¥–µ `f(x)` —Å–Ω–∏–∂–∞–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ.

2. **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—Ç—å tol –æ—Ç–¥–µ–ª—å–Ω–æ**
   –ù–∞–ø—Ä–∏–º–µ—Ä:

   ```python
   def symmetric_newton(..., tol_f: float = 1e-10, tol_x: float = 1e-12)
   ```

   –ù–æ —ç—Ç–æ —É–∂–µ ¬´–∫–æ—Å–º–µ—Ç–∏–∫–∞¬ª, –º–æ–∂–Ω–æ –ø–æ–∑–∂–µ.

–í –æ—Å—Ç–∞–ª—å–Ω–æ–º ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å–æ–ª–≤–µ—Ä.

---

### 2.3. `Spectrum1D`

–û—á–µ–Ω—å –ø—Ä–∏–ª–∏—á–Ω–æ:

* –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Ñ–æ—Ä–º;
* –Ω–æ—Ä–º–∏—Ä–æ–≤–∫–∞;
* —Ñ–∏–ª—å—Ç—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–∞–∑–º–µ—Ä–∞.

–ú–µ–ª–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:

1. **–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏**
   –ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã—Å—Ç—Ä–æ —Å—Ç—Ä–æ–∏—Ç—å —Å–ø–µ–∫—Ç—Ä –∏–∑ `f(œâ)`:

   ```python
   @classmethod
   def from_function(cls, omega: np.ndarray, func):
       power = func(omega)
       return cls(omega=omega, power=power)
   ```

   –≠—Ç–æ —Ä–µ–∑–∫–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –ø—Ä–∏–º–µ—Ä—ã.

2. **–ò–Ω—Ç–µ–≥—Ä–∞–ª —Å —É—á—ë—Ç–æ–º —à–∞–≥–∞**
   –°–µ–π—á–∞—Å `total_power` = `sum(power)`, —á—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è ¬´–¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–≥–æ¬ª —Å–ø–µ–∫—Ç—Ä–∞.
   –ü–æ–∑–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

   ```python
   def total_power_trapz(self) -> float:
       return float(np.trapz(self.power, self.omega))
   ```

   –∏ —á–µ—Å—Ç–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å ¬´—Å—É–º–º–∞¬ª vs ¬´–∏–Ω—Ç–µ–≥—Ä–∞–ª¬ª.

---

### 2.4. `OscillatorChain1D`

–û—Ç–ª–∏—á–Ω–æ:

* –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤;
* —Ç—Ä–∏–¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞;
* eigenmodes —á–µ—Ä–µ–∑ `scipy.linalg.eigh` —Å –æ—Ç—Å–µ—á–∫–æ–π –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö Œª.

–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç ‚Äî **–≥—Ä–∞–Ω–∏—Ü—ã**:

```python
# –î–∏–∞–≥–æ–Ω–∞–ª—å: 2*k –≤–µ–∑–¥–µ
```

–≠—Ç–æ ¬´–∂—ë—Å—Ç–∫–æ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ –∫—Ä–∞—è¬ª (fixed‚Äìfixed). –í—Å—ë –æ–∫, –Ω–æ:

* —ç—Ç–æ –Ω–∞–¥–æ **—è–≤–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å** –≤ docstring (—á—Ç–æ–±—ã –ø–æ—Ç–æ–º –Ω–µ –º—É—á–∏—Ç—å—Å—è, –ø–æ—á–µ–º—É —Ñ–æ—Ä–º—É–ª–∞ –º–æ–¥ —Ç–∞–∫–∞—è, –∞ –Ω–µ –¥—Ä—É–≥–∞—è);
* –≤ –±—É–¥—É—â–µ–º –ø–æ–ª–µ–∑–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥:

  ```python
  bc: str = "fixed"  # –∏–ª–∏ "free"
  ```

–∏ —Å—Ç—Ä–æ–∏—Ç—å K –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `bc`. –ù–æ —ç—Ç–æ —É–∂–µ —Å–ª–µ–¥—É—é—â–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è.

---

### 2.5. `grav_toy.py`

–õ–æ–≥–∏–∫–∞ —á–∏—Å—Ç–∞—è:

```python
ŒîP = Œ£ P(œâ) * (Œ±_right(œâ) - Œ±_left(œâ))
```

–§–∏–∑–∏—á–µ—Å–∫–∏ —ç—Ç–æ ¬´–¥–∏—Å–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è¬ª `‚à´ P(œâ)(Œ±_R - Œ±_L) dœâ`.

–ß–µ–≥–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Ç–æ–º:

* –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—á—ë—Ç —à–∞–≥–∞ `Œîœâ`:

  ```python
  delta_p = np.sum(spectrum_bg.power * delta_alpha) * d_omega
  ```

  –∏–ª–∏ —á–µ—Ä–µ–∑ `np.trapz`. –ù–æ –¥–ª—è ¬´toy model¬ª –∏ –±–µ–∑ —ç—Ç–æ–≥–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

–¢–µ—Å—Ç—ã —É —Ç–µ–±—è —Ö–æ—Ä–æ—à–∏–µ, –æ—Å–æ–±–µ–Ω–Ω–æ —Å –ì–∞—É—Å—Å–æ–º.

---

## 3. –ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å –ò–ò –î–ê–õ–¨–®–ï (–≥–æ—Ç–æ–≤—ã–π –±–ª–æ–∫ –¥–ª—è `AI_TASKS.md`)

–í–æ—Ç —Ç–µ–±–µ —Å–ª–µ–¥—É—é—â–∏–π —á—ë—Ç–∫–∏–π –±–ª–æ–∫ –∑–∞–¥–∞—á. –ú–æ–∂–µ—à—å –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ –∫–æ–Ω–µ—Ü `AI_TASKS.md` –∫–∞–∫ ¬´–≠–¢–ê–ü 8‚Äì10¬ª.

````markdown
---

## –≠–¢–ê–ü 8. –£–¥–æ–±–Ω—ã–π –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∏–º–ø–æ—Ä—Ç

**–§–∞–π–ª:** `src/spectral_physics/__init__.py`

- [ ] –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤ –ø–∞–∫–µ—Ç:

  ```python
  from .root_finding import symmetric_newton
  from .spectrum import Spectrum1D
  from .medium_1d import OscillatorChain1D
  from .grav_toy import spectral_pressure_difference
````

* [ ] –û—Å—Ç–∞–≤–∏—Ç—å `__all__` –∫–∞–∫ –µ—Å—Ç—å.

* [ ] –û–±–Ω–æ–≤–∏—Ç—å `README.md`, —á—Ç–æ–±—ã –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–∏—Å–∞—Ç—å:

  ```python
  from spectral_physics import symmetric_newton, Spectrum1D
  ```

---

## –≠–¢–ê–ü 9. –£–ª—É—á—à–µ–Ω–∏–µ symmetric_newton

**–§–∞–π–ª:** `src/spectral_physics/root_finding.py`

* [ ] –î–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π –∫—Ä–∏—Ç–µ—Ä–∏–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ —à–∞–≥—É:

  ```python
  def symmetric_newton(..., tol: float = 1e-10, tol_step: float = 1e-12):
      ...
      if abs(fx) < tol or abs(delta) < tol_step:
          return x, i
  ```

* [ ] –û–±–Ω–æ–≤–∏—Ç—å docstring (–æ–ø–∏—Å–∞—Ç—å `tol_step`).

* [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç –≤ `tests/test_root_finding.py`:

  ```python
  def test_tol_step_stops_on_flat_region():
      def f(x):
          return x**3
      x_root, n_iter = symmetric_newton(f, x0=1.0, tol=1e-20, tol_step=1e-6)
      # –ü–æ f(x) –º—ã –±—ã –¥–æ–ª–≥–æ –∂–¥–∞–ª–∏, –Ω–æ –ø–æ —à–∞–≥—É –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è —Ä–∞–Ω—å—à–µ
      assert n_iter < 50
  ```

---

## –≠–¢–ê–ü 10. –§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è Spectrum1D

**–§–∞–π–ª:** `src/spectral_physics/spectrum.py`

* [ ] –î–æ–±–∞–≤–∏—Ç—å classmethod:

  ```python
  @classmethod
  def from_function(cls, omega: np.ndarray, func):
      """
      –°–æ–∑–¥–∞—Ç—å Spectrum1D –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ power(omega).

      –ü—Ä–∏–º–µ—Ä:
          omega = np.linspace(0, 10, 100)
          spec = Spectrum1D.from_function(omega, lambda w: np.exp(-w))
      """
      omega = np.asarray(omega, dtype=float)
      power = np.asarray(func(omega), dtype=float)
      if power.shape != omega.shape:
          raise ValueError("func(omega) must return array with same shape as omega")
      return cls(omega=omega, power=power)
  ```

* [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç –≤ `tests/test_spectrum.py`:

  ```python
  def test_from_function():
      omega = np.linspace(0, 1, 5)
      spec = Spectrum1D.from_function(omega, lambda w: 2*w)
      np.testing.assert_array_equal(spec.omega, omega)
      np.testing.assert_array_equal(spec.power, 2*omega)
  ```

---

```

–°–∫–∞–∂–∏ —Å–≤–æ–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ–º—É –ò–ò:

> ¬´–í—ã–ø–æ–ª–Ω—è–π –≠–¢–ê–ü 8‚Äì10 –≤ AI_TASKS.md¬ª.

–ü–æ—Ç–æ–º, –∫–æ–≥–¥–∞ –æ–Ω —ç—Ç–æ –¥–æ–¥–µ–ª–∞–µ—Ç, —Ç—ã —Å–∫–∏–Ω–µ—à—å –º–Ω–µ –æ–±–Ω–æ–≤–∫—É (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–µ—à—å ¬´—ç—Ç–∞–ø—ã –≥–æ—Ç–æ–≤—ã¬ª), –∏ –º—ã –ø–µ—Ä–µ–π–¥—ë–º –∫ **—Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–≤–Ω—é**:

- –¥–æ–±–∞–≤–∏–º –µ—â—ë –æ–¥–∏–Ω —Ç–∏–ø —Å—Ä–µ–¥—ã (2D —Å–µ—Ç–∫–∞ / –º–µ–º–±—Ä–∞–Ω–∞),
- —Å–¥–µ–ª–∞–µ–º –ø–µ—Ä–≤—ã–π **—Ä–µ–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π –ø—Ä–∏–º–µ—Ä**:  
  –Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å—å –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤¬ª (—ç—Ç–æ —É–∂–µ —à–∞–≥ –∫ –≥–µ–æ—Ñ–∏–∑–∏–∫–µ / –¥–µ—Ñ–µ–∫—Ç–æ—Å–∫–æ–ø–∏–∏).

–¢—ã —Å–µ–π—á–∞—Å —Å–¥–µ–ª–∞–ª –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ–µ: —É —Ç–µ–±—è –ø–æ—è–≤–∏–ª—Å—è **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –Ω–æ —Ä–µ–∞–ª—å–Ω—ã–π —Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫**. –≠—Ç–æ —É–∂–µ –Ω–µ —Å–∫–∞–∑–∫–∞, –∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.
::contentReference[oaicite:0]{index=0}
```
